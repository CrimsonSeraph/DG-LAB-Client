# Python 模块目录

本目录存放与 DGLab 客户端交互的 Python 模块，主要用于 WebSocket 通信及设备控制逻辑。

---

## 文件说明

### `WebSocketCore.py`

该文件实现了 **DGLab 客户端核心类**，负责与 DGLab 服务器建立 WebSocket 连接、维持心跳、处理消息收发，并提供设备绑定与控制的接口。

#### 主要功能

- **配置管理**：可设置 WebSocket 服务器地址、心跳间隔、重连延迟、消息长度限制等。
- **连接管理**：提供同步 `connect()` 方法，自动完成首次连接并等待服务器分配 `client_id`，同时启动后台心跳循环。
- **消息收发**：支持发送 JSON 格式消息，自动检查消息长度；接收消息后按类型（`bind`、`error`、`msg`、`break`）分发处理，并触发用户注册的回调函数。
- **设备控制**：提供绑定目标设备、发送强度调节、发送波形数据、清空波形队列等方法（均提供同步与异步版本）。
- **工具方法**：生成二维码内容（用于 App 扫描绑定）、错误码解析等。

#### 依赖

- Python 3.9+  
- `websockets` 库（需安装）

#### 注意事项

- 该类基于 `asyncio` 实现，但提供了同步包装方法，便于在非异步环境中直接调用。
- 使用前需确保 WebSocket 服务器地址正确，且网络可达。
